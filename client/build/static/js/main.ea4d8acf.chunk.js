(this.webpackJsonpmere=this.webpackJsonpmere||[]).push([[0],{33:function(e,t,a){e.exports=a(71)},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(27),c=a.n(r),o=(a(38),a(39),a(10)),i=a(1),s=a(9),m=a(14),u=a(12);a(40);var d=function(e){var t=e.children;return l.a.createElement("div",{style:{height:100,clear:"both",paddingTop:20,textAlign:"center"},className:"jumbotron"},t)};a(41);var E=function(e){return l.a.createElement("span",Object.assign({className:"save-btn btn btn-primary"},e,{role:"button",tabIndex:"1"}),e.disabled?"Saved":"Save")};a(42);var f=function(e){return l.a.createElement("span",Object.assign({className:"view-btn btn btn-primary"},e,{role:"button",tabIndex:"1"}),"View")},h=a(7),v=a.n(h),g=function(e){return v.a.get("/api/google",{params:{q:"title:"+e}})},b=function(e){return v.a.delete("/api/books/"+e)},p=function(e){return v.a.post("/api/books",e)},k=function(e){var t="/api/search/"+e;return console.log("GoogleBooks queryURL=\n",t),v.a.get(t)};function N(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function w(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function y(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},a)}a(60);function B(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}function O(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}function S(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function j(e){return l.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var z=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({title:"",subtitle:"",authors:[],link:"",description:"",image:"",date:"",googleID:"",_id:""}),o=Object(u.a)(c,2),i=o[0],h=o[1];return l.a.createElement(N,{fluid:!0},l.a.createElement(w,null,l.a.createElement(y,{size:"md-12"},l.a.createElement(d,null,l.a.createElement("h1",{className:"text-center"},"Google Books")),l.a.createElement("form",null,l.a.createElement(S,{onChange:function(e){var t=e.target,a=t.name,n=t.value;h(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},a,n)))},name:"title",placeholder:"Title (required)"}),l.a.createElement(j,{disabled:!i.title,onClick:function(e){e.preventDefault(),i.title&&k(i.title).then((function(e){r(e.data)})).then((function(){return h({title:"",subtitle:"",authors:[],link:"",description:"",image:"",date:"",googleID:"",_id:""})})).catch((function(e){return console.log(e)}))}},"SEARCH"))),l.a.createElement(y,{size:"md-12 sm-12"},l.a.createElement(d,null,l.a.createElement("h1",null,"BOOK LIST")),a.length?l.a.createElement(B,null,a.map((function(e){return l.a.createElement(O,{key:e._id},l.a.createElement(w,null,l.a.createElement(y,{size:"md-10 sm-12"},l.a.createElement("strong",null,e.title," by"),l.a.createElement(B,null,e.authors.map((function(e,t){return l.a.createElement(O,{key:"".concat(e,"=").concat(t)},e)})))),l.a.createElement(y,{size:"md-2 sm-12"},l.a.createElement(E,{disabled:e.hasOwnProperty("saved"),onClick:function(){return function(e){var t=a.reduce((function(t,a,n){return a._id===e&&(t=n),t}),-1);if(console.log("\u221e\xb0 books[bookIdx=".concat(t,"]=\n"),a[t]),t>=0&&!a[t].hasOwnProperty("saved")){var n=a[t];p(n).then((function(){var e=a;e[t].saved=!0,r(e)})).catch((function(e){return console.log(e)}))}}(e._id)}}),l.a.createElement(f,{onClick:function(){return function(e){var t=a.reduce((function(t,a){return a._id===e&&(t=a.link),t}),"");t&&window.open(t)}(e._id)}}))),l.a.createElement(w,null,l.a.createElement(y,{size:"md-3 sm-12"},l.a.createElement("img",{alt:"Book",src:e.image,className:"img-fluid"})),l.a.createElement(y,{size:"md-9 sm-12"},e.description)))}))):l.a.createElement("h1",null,"YOUR BOOKS"))))};a(61);var C=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn btn btn-secondary"},e,{role:"button",tabIndex:"0"}),"Delete")};var x=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];function c(){g().then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){c()}),[]),l.a.createElement(N,{fluid:!0},l.a.createElement(w,null,l.a.createElement(y,{size:"md-12"},l.a.createElement(d,null,l.a.createElement("h3",null,"(React) Google Books Search"),l.a.createElement("h4",null,"Search for and save books of interest"))),l.a.createElement(y,{size:"md-12 sm-12"},l.a.createElement(d,null,l.a.createElement("h1",null,"Results List")),a.length?l.a.createElement(B,null,a.map((function(e){return l.a.createElement(O,{key:e._id},l.a.createElement(w,null,l.a.createElement(y,{size:"md-10 sm-12"},l.a.createElement("strong",null,e.title," by"),l.a.createElement(B,null,e.authors.map((function(e,t){return l.a.createElement(O,{key:"".concat(e,"=").concat(t)},e)})))),l.a.createElement(y,{size:"md-2 sm-12"},l.a.createElement(C,{onClick:function(){return t=e._id,void b(t).then((function(e){return c()})).catch((function(e){return console.log(e)}));var t}}),l.a.createElement(f,{onClick:function(){return function(e){var t=a.reduce((function(t,a){return a._id===e&&(t=a.link),t}),"");t&&window.open(t)}(e._id)}}))),l.a.createElement(w,null,l.a.createElement(y,{size:"md-3 sm-12"},l.a.createElement("img",{alt:"Book",src:e.image,className:"img-fluid"})),l.a.createElement(y,{size:"md-9 sm-12"},e.description)))}))):l.a.createElement("h3",null,"No Results to Display"))))},I=a(28),R=a(29),_=a(32),q=a(31);a(62);var F=function(e){return l.a.createElement("button",{onClick:e.onClick,className:"card-btn ".concat(e["data-value"]),"data-value":e["data-value"]})};a(63);var D=function(e){return l.a.createElement("div",{className:"card",style:{backgroundImage:e.image?"url(".concat(e.image,")"):"none"}},!e.image&&l.a.createElement("i",{className:"fa fa-spinner fa-spin","aria-hidden":"true"}),l.a.createElement(F,{onClick:e.handleBtnClick,"data-value":"pass"}),l.a.createElement(F,{onClick:e.handleBtnClick,"data-value":"pick"}))};var P=function(e){var t=e.q,a=e.handleInputChange,n=e.handleFormSubmit;return l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"Query"},l.a.createElement("strong",null,"Book")),l.a.createElement("input",{className:"form-control",id:"Title",type:"text",value:t,placeholder:"Ready Player One",name:"q",onChange:a,required:!0})),l.a.createElement("div",{className:"pull-right"},l.a.createElement("button",{onClick:n,type:"submit",className:"btn btn-lg btn-danger float-right"},"Search")))};a(64);var W=function(e){var t=e.title,a=e.subtitle,n=e.authors,r=e.link,c=e.description,o=e.image,i=e.Button;return l.a.createElement(O,null,l.a.createElement(w,{className:"flex-wrap-reverse"},l.a.createElement(y,{size:"md-8"},l.a.createElement("h3",{className:"font-italic"},t),a&&l.a.createElement("h5",{className:"font-italic"},a)),l.a.createElement(y,{size:"md-4"},l.a.createElement("div",{className:"btn-container"},l.a.createElement("a",{className:"btn btn-light",target:"_blank",rel:"noopener noreferrer",href:r},"View"),l.a.createElement(i,null)))),l.a.createElement(w,null,l.a.createElement(y,{size:"md-6"},l.a.createElement("p",{className:"font-italic small"},"Written by ",n))),l.a.createElement(w,null,l.a.createElement(y,{size:"12 sm-4 md-2"},l.a.createElement("img",{className:"img-thumbnail img-fluid w-100",src:o,alt:t})),l.a.createElement(y,{size:"12 sm-8 md-10"},l.a.createElement("p",null,c))))};var A=function(){return l.a.createElement("footer",null,l.a.createElement("hr",null),l.a.createElement("p",{className:"pull-right"},l.a.createElement("i",{className:"fab fa-github"})," Proudly built using React.js"))},G=function(e){Object(_.a)(a,e);var t=Object(q.a)(a);function a(){var e;Object(I.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={books:[],q:"",message:"Being your Book Search!"},e.handleInputChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(s.a)({},n,l))},e.getBooks=function(){g().then((function(t){return e.setState({savedBooks:t.data})}))},e.handleFormSubmit=function(t){t.preventDefault(),e.getBooks()},e.handleBookSave=function(t){var a=e.state.books.find((function(e){return e.id===t}));p({googleId:a.id,title:a.volumeInfo.title}).then((function(){return e.getBooks()}))},e}return Object(R.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(N,null,l.a.createElement(w,null,l.a.createElement(y,{size:"md-12"},l.a.createElement(d,null,l.a.createElement("h1",{className:"text-center"},l.a.createElement("strong",null,"(React) Google Books Search")),l.a.createElement("h2",{className:"text-center"},"Search for and Save Books of Interest."))),l.a.createElement(y,{size:"md-12"},l.a.createElement(D,{title:"Book Search",icon:"far fa-book"},l.a.createElement(P,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,q:this.state.q})))),l.a.createElement(w,null,l.a.createElement(y,{size:"md-12"},l.a.createElement(D,{title:"Results"},this.state.books.length?l.a.createElement(B,null,this.state.books.map((function(t){return l.a.createElement(W,{key:t.id,title:t.volumeInfo.title,book:t,Button:function(){return l.a.createElement("button",{onClick:function(){return e.handleBookSave(t.id)},className:"btn btn-primary ml-2"},"Save")}})}))):l.a.createElement("h2",{className:"text-center"},this.state.message)))),l.a.createElement(A,null))}}]),a}(n.Component);var L=function(){return l.a.createElement(N,{fluid:!0},l.a.createElement(w,null,l.a.createElement(y,{size:"md-12"},l.a.createElement(d,null,l.a.createElement("h1",{className:"text-center"},"404 Page Not Found"),l.a.createElement("h1",{className:"text-center"},l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};a(65);var T=function(){return l.a.createElement("nav",{className:"navbar"},l.a.createElement(o.b,{className:"navbar-brand",to:"/"},"Andrew Google Books"),l.a.createElement("div",null,l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/",className:"/"===window.location.pathname||"/searchbook"===window.location.pathname?"nav-link active":"nav-link"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/savedbooks",className:"/discover"===window.location.pathname?"nav-link active":"nav-link"},"Saved")))))};var U=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(T,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/Home"},l.a.createElement(G,null)),l.a.createElement(i.a,{exact:!0,path:["/","/SearchBook"]},l.a.createElement(z,null)),l.a.createElement(i.a,{exact:!0,path:"/SaveThatBookPlease"},l.a.createElement(x,null)),l.a.createElement(i.a,{exact:!0,path:"/NoMatch"},l.a.createElement(L,null)))))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement(U,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");H?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):J(e)}))}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.ea4d8acf.chunk.js.map